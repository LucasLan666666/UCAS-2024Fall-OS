\question {
    假设一台计算机上运行一个进程 A，该进程的地址空间大小为 4 MB（页大小为4KB）。该计算机使用
    线性页表记录进程 A 的虚实映射关系，并且将 A 的页表都保存在内存中。该计算机 CPU 的 TLB
    大小为 32 项，每项 4B，一次 TLB 查询或 TLB 填充的延迟均为 5 ns，请计算：
}

\begin{parts}
    \part 假设该计算机使用软件处理 TLB miss，且操作系统进行一次页表查询的平均延迟为 120 ns，
    如果想让虚实地址映射的平均延迟为 40 ns，那么 TLB 的命中率应为多少？
    \part 如果想让虚实地址映射的平均延迟不超过 20 ns，那么 TLB 的命中率应为多少？
    （上述各项操作的延迟不变）
\end{parts}

\begin{solution}

\begin{parts}

\part
设命中率为 $h$，有
$$
    5 \times h + (120 + 5) \times (1-h) = 40
$$
解得 $h = 0.708$。

\part
设命中率为 $h$，有
$$
    5 \times h + (120 + 5) \times (1-h) = 20
$$
解得 $h = 0.875$，故不能少于 $0.875$。

\end{parts}

\end{solution}